---
title: '순수 함수와 부수 효과'
category: 'Javascript'
excerpt: '함수형 프로그래밍에서는 함수의 인자와 return값을 이용해서 소통하는 것을 권장합니다. 이를 토대로 안정적이고 예측 가능한 코드를 만들고자 하는 목적과 방향성에서 더욱 주목받게 되었습니다. 순수 함수는 동일한 입력값을 전달했을 때 언제나 동일한 결과값을 반환하는 함수입니다.'
date: '2022-07-17'
---

# 순수 함수와 부수 효과

&emsp;함수형 프로그래밍에서는 함수의 인자와 return값을 이용해서 소통하는 것을 권장합니다. 이를 토대로 안정적이고 예측 가능한 코드를 만들고자 하는 목적과 방향성에서 더욱 주목받게 되었습니다. 순수 함수는 동일한 입력값을 전달했을 때 언제나 동일한 결과값을 반환하는 함수입니다, 즉 **외부 상태를 변경하지 않고 외부 상태에 의존하지도 않는 함수**입니다. 함수에서 외부의 상태값을 참조하거나 또는 외부의 상태를 변경하는 것을 순수 함수라고 볼 수 없습니다.

```js
function add(a, b) {
  const total = a + b;
  return total;
}
```

&emsp;위 함수 add에서는 동일한 인자 a와 b를 입력값으로 넣었을때 결과값인 total은 언제나 동일한 값으로 반환됩니다. 함수의 인자가 아닌 외부 변수를 사용하지 않으며 외부 변수의 값을 수정하지 않습니다.

> ### 순수 함수의 조건
>
> 1.  동일한 인자를 넣을 경우 항상 같은 값을 반환해야 한다.
>
> - 함수의 인자가 아닌 외부 변수를 사용하지 않아야 합니다. (상수는 OK)
> - 함수 내부에서 Math.random()이나 file I/O등 호출때마다 달라지는 값이 없어야 합니다.
>
> 2.  함수가 호출되고 나서 아무런 변화가 없어야 한다.
>
> - 외부 변수의 값을 수정하지 않아야 합니다.
> - 인자로 넘어온 Object나 Array, Date와 같은 값들의 필드를 내부에서 변경하지 않아야 합니다.
> - 콘솔, 네트워크, 기타 DOM API등을 사용하지 않아야 합니다.
> - try ~ catch등 같은 에러 처리 로직을 사용하지 않아야 한다.

<span>함수형 프로그래밍, https://velog.io/@teo/프론트엔드-일단-한번-해보세요-함수형-프로그래밍</span>

&emsp;함수형 프로그래밍에서는 외부의 상태나 함수에 인자로 전달된 데이터의 상태를 변경하지 않음으로써 부수 효과를 만들지 않으므로 불변성을 유지하기 때문에 멀티 스레드 환경에서도 안정적으로 동작할 수 있습니다. 안정적으로 동작한다는 것은 결과값이 예측 가능하며 오류를 피하거나 수정하기 용이하다는 의미입니다.

> ### 부수 효과
>
> 함수를 호출하면 외부의 상태가 변경되거나 예상하지 못한 에러가 발생하는 효과

```js
function addThenLog(a, b) {
  const total = a + b;
  console.log(total);
}

function getRandomColor() {
  const rgba = '0123456789ABCDEF';
  let color = '#';
  for (let i = 0; i < 6; i++) {
    color += rgba[Math.floor(Math.random() * 16)];
  }
  return color;
}
```

&emsp;함수 addThenLog는 순수 함수처럼 보이지만 비순수 함수입니다. 비순수 함수는 console.log나 Math.random() 등 호출할 때마다 값이 달라지거나 외부 상태에 의존하고 부수 효과가 있는 함수입니다. 하지만 부수 효과를 갖는다고 해서 언제나 비순수 함수가 나쁘고 순수 함수가 좋은 것은 아닐뿐더러 모든 함수가 순수 함수일 수는 없습니다. 순수 함수를 통해 예기치 못한 부수효과와 오류를 피하고 앱의 안정성을 높이는 프로그래밍 패러다임을 추구하는 것이지 UI 애플리케이션의 특성상 많은 상태 변화가 일어나기 때문에 의도대로 작동하게 하는 코드를 구현하는 것이 맞습니다.
